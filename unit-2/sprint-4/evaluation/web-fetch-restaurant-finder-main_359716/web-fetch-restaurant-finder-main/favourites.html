<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Favourites Page</title>
    <style>
      /* All Your css for Favourites page goes here  */
    </style>
  </head>
  <body>
    <div class="nav">
      <h1>Masai Restaurant Finder</h1>
      <a href="./index.html">Home</a>
      <a href="./favourites.html">Favourites</a>
    </div>
    <h1 id="total">Your a total <span id="fav-total">0</span> elements in the favourites</h1>
    <div id="fav-container">
      <!-- Here Append All the Favourites-->
    </div>
  </body>
  <script>
    // All your JS code for Favourites Page goes here
    let container=document.getElementById("fav-container");
    let totalspan=document.getElementById("fav-total");
    let fav_data=JSON.parse(localStorage.getItem("favourites"))||[];
    showuser(fav_data);

    function showuser(data){
      container.innerHTML="";
      totalspan.innerText=fav_data.length;
      data.forEach((element,index) => {
        let box=document.createElement("div");

        let image=document.createElement("img");
        image.setAttribute("src",element.image);

        let name = document.createElement("h1");
        name.innerText=element.name;

        let price = document.createElement("h2");
        price.innerText="â‚¹"+element.price_starts_from;

        let rating = document.createElement("h2");
        rating.innerText=element.rating;

        let delete_btn=document.createElement("button");
        delete_btn.innerText="Delete";
        delete_btn.addEventListener("click",()=>{
          container.innerHTML="";
          // console.log("yes");
          let final_data = fav_data.filter((el,ind)=>{
            if(index==ind){
              return false;
            }
            else{
              return true;
            }
          })
          fav_data=final_data;
          localStorage.setItem("favourites",JSON.stringify(fav_data));
          showuser(final_data);

        })
        box.append(image,name,price,rating,delete_btn);
        container.append(box);
      });
    }  
  </script>
</html>