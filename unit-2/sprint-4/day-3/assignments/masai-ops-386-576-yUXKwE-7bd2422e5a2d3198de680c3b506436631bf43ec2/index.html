<!DOCTYPE html>
<html>
  <head>
    <title>Web Movie App</title>
    <style>
      /* Write necessery styles here  */
      #movie_container{
        display: grid;
        grid-template-columns: repeat(4,1fr);
        gap: 20px;
        margin: auto;
      }

      img{
        width: 100%;
      }
    </style>
  </head>
  <body>
    <div id="serach">
      <input type="text" id="search-inp"/>
      <button id="search-btn"></button>
    </div>
    <div id="movie_container"></div>
  </body>

  <script>
    // Write necessery JS 
    let input=document.getElementById("search-inp");
    input.setAttribute("placeholder","Search");
    let btn=document.getElementById("search-btn");
    btn.innerText="Search";

    
    let movie_container=document.getElementById("movie_container");

    btn.addEventListener("click",()=>{
      let movie_name=input.value;
      fetch(`https://www.omdbapi.com/?apiKey=9cf87c62&s=${movie_name}`)
      .then((ResponseObject)=>{
        return ResponseObject.json();
      })
      .then((actualData)=>{
        console.log(actualData.Search);
        let neededData=actualData.Search;
        if(neededData==undefined){
          movie_container.innerHTML=null;
          let h2=document.createElement("h2");
          h2.setAttribute("class","error-container")

          h2.innerText='Movie not found!';
          movie_container.append(h2);
        }else{
          showuser(neededData);
        }
      })
      .catch((error)=>{
        console.log(error);
      })
    })

    function showuser(data){
      movie_container.innerHTML=null;
      data.forEach((element) => {
        let card=document.createElement("div");

        let h2=document.createElement("h2");
        h2.setAttribute("class","title")
        h2.innerText=element.Title;

        let img=document.createElement("img");
        img.setAttribute("class","poster");
        img.setAttribute("src",element.Poster);

        card.append(img,h2);

        movie_container.append(card);
      });
    }

  </script>
</html>
